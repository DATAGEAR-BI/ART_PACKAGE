@model ExportTaskDto;
@using ART_PACKAGE.Helpers.ExportTasks;
@using ART_PACKAGE.Helpers.HTMLHelpers;
@using Data.Data.ExportSchedular;
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/css/customreport.css" rel="stylesheet" />

<h1>Add Task</h1>
<form id="AddTaskForm">
    <div class="row" style="margin-bottom:2%">
        <div class="col-xs-6 col-md-6 col-sm-6">
            <label for="taskName">Task Name (must be unique)</label>
            <input id="taskName" type="text" asp-for="Name" class="form-control" placeholder="Task Name" required>
        </div>
        <div class="col-xs-6 col-md-6 col-sm-6">
            <label for="reportsDropDown">Report Name</label>
            <select id="reportsDropDown" class="selectpicker" asp-for="ReportName" style="width:100%" data-live-search="true" required>
            </select>
        </div>

    </div>
    <div class="row" style="margin-bottom:2%">
        <div class="col-xs-12 col-md-12 col-sm-12">
            <label for="taskDesc">Task Descripition</label>
            <textarea id="taskDesc" type="text" class="form-control" asp-for="Description" placeholder="Task Description"></textarea>
        </div>
    </div>
    <div class="row" style="margin-bottom:2%">
        <div class="col-xs-12 col-md-12 col-sm-12">
            <art-qbuilder id="paraBuilder"></art-qbuilder>
        </div>
    </div>

    <div class="row" style="margin-bottom:2%">
        <div class="col-xs-2 col-md-2 col-sm-2">
            <label for="periodDropDown">Task Period</label>
            <select id="periodDropDown" class="selectpicker" style="width:100%" data-live-search="true" asp-items="Html.GetEnumValuesWithDisplayName<TaskPeriod>()" required>
                <option value="-1">Select A Period</option>
            </select>
        </div>
        <div id="monthDiv" class="col-xs-2 col-md-2 col-sm-2 disabledDiv">
            <label for="monthDropDown">Month</label>
            <select id="monthDropDown" class="selectpicker" style="width:100%" data-live-search="true" asp-items="Html.GetEnumValuesWithDisplayName<MonthsOfYear>()">
                <option value="-1">Select A Month of Year</option>
            </select>
        </div>

        <div id="weekDayDiv" class="col-xs-2 col-md-2 col-sm-2 disabledDiv">
            <label for="weekDayDropDown">Week Day</label>
            <select id="weekDayDropDown" class="selectpicker" style="width:100%" data-live-search="true" asp-items="Html.GetEnumValuesWithDisplayName<DayOfWeek>()">
                <option value="-1">Select A Day of Week</option>
            </select>
        </div>
        <div id="dayDiv" class="col-xs-2 col-md-2 col-sm-2 disabledDiv">
            <label for="dayInput">Day</label>
            <input id="dayInput" type="number" max="31" min="1" class="form-control">
        </div>
        <div id="hourDiv" class="col-xs-2 col-md-2 col-sm-2 disabledDiv">
            <label for="hourInput">Hour</label>
            <input id="hourInput" type="number" max="23" min="0" class="form-control">
        </div>
        <div id="minuteDiv" class="col-xs-2 col-md-2 col-sm-2 disabledDiv">
            <label for="minutInput">Minute</label>
            <input id="minutInput" type="number" max="59" min="0" class="form-control">
        </div>
    </div>
    <div class="row" style="display:flex;align-items:center">
        <div class="col-xs-2 col-md-2 col-sm-2">
            <div style="display:flex;justify-content:space-between">
                <label for="emailSwitch-art-switch">Send To Mails</label>
                <art-switch id="emailSwitch"></art-switch>
            </div>
            <div style="display:flex;justify-content:space-between">
                <label for="serverSwitch-art-switch">Save on Server</label>
                <art-switch id="serverSwitch"></art-switch>
            </div>
        </div>
        <div class="col-xs-10 col-md-10 col-sm-10 disabledDiv" id="mailsDiv">
            <email-input id="mailsInput"></email-input>
        </div>
    </div>


    <div class="row" style="margin-top:2%">
        <a class="btn btn-link col-xs-2 col-md-2 col-sm-2" asp-action="index"><span class="glyphicon glyphicon-arrow-left"></span> &#160; &#160; back</a>
        <div class="col-xs-8 col-md-8 col-sm-8"></div>
        <button type="submit" class="btn btn-primary col-xs-1 col-md-1 col-sm-1">Add</button>
    </div>



</form>

@section scripts {

    <link href="~/lib/bootstrap-datepicker/css/bootstrap-datepicker3.css" rel="stylesheet" />
    <link href="~/lib/bootstrap-datepicker/css/bootstrap-datepicker3.min.css" rel="stylesheet" />
    <link href="~/lib/bootstrap-datepicker/css/bootstrap-datepicker3.standalone.css" rel="stylesheet" />
    <link href="~/lib/bootstrap-datepicker/css/bootstrap-datepicker3.standalone.min.css" rel="stylesheet" />
    <link href="~/lib/jquery-querybuilder/css/query-builder.dark.css" rel="stylesheet" />
    <link href="~/lib/jquery-querybuilder/css/query-builder.dark.min.css" rel="stylesheet" />
    <script src="~/lib/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
    <script src="~/lib/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
    <script src="~/lib/jquery-querybuilder/js/query-builder.min.js"></script>
    <script src="~/lib/jquery-querybuilder/js/query-builder.standalone.min.js"></script>
    <script src="~/lib/jquery-querybuilder/js/query-builder.standalone.js"></script>
    <script src="~/lib/jquery-querybuilder/js/query-builder.js"></script>
    <script src="~/js/components/querybuilder/querybuilder.js"></script>
    <script src="~/lib/emailinput/emails-input.js"></script>
    <script src="~/js/components/switch/switch.js"></script>
    <script type="module" defer src="~/js/components/emailinput/emailinput.js"></script>
    <script type="module"  src="~/js/taskschedularscripts/edittask.js"></script>
    
    <script defer>
        eventEmitter.emit("editTaskModel", '@Model');
    </script>
}
