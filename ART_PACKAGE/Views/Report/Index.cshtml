@using ART_PACKAGE.Areas.Identity.Data;
@using ART_PACKAGE.Helpers.HTMLHelpers;
@using Microsoft.AspNetCore.Mvc.TagHelpers

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/css/customreport.css" rel="stylesheet" />
<h2>Customize your report</h2>


<div class="container">
    <div id="errors" hidden class="alert alert-danger alert-dismissible" style="padding:2%" role="alert">
         <button type="button" style="margin-right:2%;" id="closeEroors" onclick="hideErrors()" class="close"><span aria-hidden="true">&times;</span></button>
    </div>
    <form id="CustomReportForm" method="post" asp-action="SaveReport"> 
        <div class="row">
        <h4 class="col-md-10">Select the table and columns you want.</h4>

        <div class="col-md-2">
                <button type="submit" class="btn btn-primary ">Save Report</button>
            </div>
            </div>
            <div class="row"style="margin-top:1%">
             <div class="form-group col-md-4">
                <select id="Shcema" name="Shecma" style="width:100%"  asp-items="Html.GetEnumValuesWithDisplayName<DbSchema>()" class="text-infol selectpicker" data-live-search="true">
                    <option value="-1">Select A Schema</option>
                </select>
                    
            </div>
            <div class="form-group col-md-4">
                    <select id="TableName" name="TableName" style="width:100%" class="text-infol selectpicker" data-live-search="true">
                    </select>
                    
            </div>

             <div class="form-group col-md-4">
                    <select id="ColumnNames" name="ColumnNames" style="width:100%"  class=" text-infol selectpicker" data-live-search="true" multiple>
                        <option selected value="" >Select some columns</option>
                    </select>
            </div>
        </div>
        <div class="row" style="margin-top:2%"> 
            <input type="text" placeholder="Report Title" class="form-control col-md-10" id="title"/>
        </div>
        <div class="row"style="margin-top:2%" >
            <textarea class="form-control col-md-12" rows="4" id="desc" placeholder="Report Description"></textarea>
        </div>
        

         <h4>Add the charts you want.</h4>
        <div class="row">
           
            <div class="col-md-10"></div>
            <div class="col-md-2">
               <button  id="openAddChart" class="btn btn-primary" type="button" data-toggle="collapse" data-target="#chartCollapse" aria-expanded="false" aria-controls="chartCollapse">
                    Add a Chart
               </button>
            </div>  
               
                <div class="collapse row" style="margin-top:4%" id="chartCollapse">
                  <div class="card card-body text-center">
                      <div class=" col-xs-12">
                          <input type="text" id="chartTitle" name="chartTitle" placeholder="Chart Title" class="form-control" />
                      </div>
                      <div class="col-xs-6 ">
                     <select id="chartType" name="chartType" asp-items="Html.GetEnumSelectList<ChartType>()" class=" text-infol selectpicker" data-live-search="true">
                        <option selected value="" >Select a Type</option>
                      </select> 
                      </div>
                       <div class="col-xs-6">
                     <select id="chartColumn" name="chartColumn"  class=" text-infol selectpicker" data-live-search="true">
                        <option selected value="" >Select a Column</option>
                      </select> 
                      </div>
                       <button id="addChart" class="btn btn-primary col-md-1" type="button" data-toggle="collapse" data-target="#chartCollapse" aria-expanded="false" aria-controls="chartCollapse">
                            <i class="glyphicon glyphicon-plus"></i>
                       </button>
                   
                   </div>
                   
                      
                </div>

                
        </div>

        <div id="addedCharts" class="row">

        </div>



    </form>


</div>

@section scripts {
    <script src="~/js/ReportScripts.js" ></script>
}